<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RXstore - Digital Affiliate Marketing</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Arial', sans-serif;
            /* Clean and attractive background - subtle gradient or light pattern */
            background: linear-gradient(to bottom right, #f0f4f8, #e0e7ef);
            min-height: 100vh; /* Ensure body takes full viewport height */
        }
        .hidden {
            display: none;
        }
        .transition-opacity {
            transition: opacity 0.3s ease-in-out;
        }
        .bg-gradient-custom {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .btn-custom {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: transform 0.2s;
        }
        .btn-custom:hover {
            transform: scale(1.05);
        }
        .product-card {
            transition: transform 0.6s ease-out, opacity 0.6s ease-out, box-shadow 0.2s;
            opacity: 0; /* Start hidden for animation */
            transform: translateX(100%); /* Start off-screen to the right */
        }
        .product-card.animate-in {
            opacity: 1;
            transform: translateX(0);
        }
        .product-card.animate-out {
            opacity: 0;
            transform: translateX(100%); /* Animate out to the right */
        }
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        .dashboard-section {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }
        .stat-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            flex: 1;
            min-width: 200px;
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 8px;
            width: 500px;
            max-width: 90%;
            text-align: center;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
        }
        .form-group input, .form-group textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
    </style>
</head>
<body class="min-h-screen">
    <!-- Header -->
    <header class="bg-gradient-custom text-white shadow-lg sticky top-0 z-10">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center">
                <i class="fas fa-store-alt text-3xl mr-2"></i>
                <h1 class="text-2xl font-bold">RXstore</h1>
            </div>
            <nav class="flex space-x-4">
                <button id="homeBtn" class="text-white hover:text-gray-200 transition-opacity bg-transparent border-none text-lg">Home</button>
                <button id="productsBtn" class="text-white hover:text-gray-200 transition-opacity bg-transparent border-none text-lg">Products</button>
                <button id="dashboardBtn" class="text-white hover:text-gray-200 transition-opacity bg-transparent border-none text-lg">Dashboard</button>
                <button id="loginBtn" class="text-white hover:text-gray-200 transition-opacity bg-transparent border-none text-lg">Login</button>
            </nav>
        </div>
    </header>

    <!-- Main Content Container -->
    <main class="container mx-auto px-4 py-8">
        <!-- Home Section -->
        <section id="home" class="section transition-opacity">
            <div class="hero bg-gradient-custom text-white rounded-lg p-8 mb-8">
                <h2 class="text-4xl font-bold mb-4">Welcome to RXstore</h2>
                <p class="text-xl mb-6">Your platform for health product affiliate marketing via Amazon. Earn commissions on every sale!</p>
                <button id="startBtn" class="btn-custom">Start Now</button>
            </div>
            <div class="grid md:grid-cols-3 gap-6 mb-8">
                <div class="stat-card">
                    <h3 class="text-lg font-bold mb-2">Buy Button Clicks</h3>
                    <p class="text-3xl font-bold text-green-600" id="clicksCount">0</p>
                    <p class="text-sm text-gray-500">Total clicks on 'Buy Now'</p>
                </div>
                <div class="stat-card">
                    <h3 class="text-lg font-bold mb-2">Most Popular Product</h3>
                    <p class="text-xl font-bold text-purple-600" id="popularProduct">No Data</p>
                    <p class="text-sm text-gray-500">Most clicked product</p>
                </div>
                <div class="stat-card">
                    <h3 class="text-lg font-bold mb-2">Total Products</h3>
                    <p class="text-3xl font-bold text-blue-600" id="totalProductsCount">0</p>
                    <p class="text-sm text-gray-500">Number of products listed</p>
                </div>
            </div>
            <div class="mt-8">
                <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/97fd5af6-a88e-43e7-9977-b630ad816abe.png" alt="A modern pharmacy filled with health products, with a pharmacist assisting a customer, bright lighting and clean design with bold colors" class="w-full rounded-lg shadow-lg" onerror="this.src='https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/4db2e935-ba48-475f-bb7a-124eb84f73a2.png'" />
            </div>
        </section>

        <!-- Products Section -->
        <section id="products" class="section hidden transition-opacity">
            <h2 class="text-3xl font-bold mb-8 text-center">Our Products from Amazon</h2>
            <div id="productGrid" class="grid md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
        </section>

        <!-- Login/Register Section -->
        <section id="login" class="section hidden transition-opacity max-w-md mx-auto">
            <h2 class="text-3xl font-bold mb-8 text-center">Login</h2>
            <form id="loginForm" class="bg-white p-8 rounded-lg shadow-lg">
                <div class="form-group">
                    <label class="block text-gray-700 mb-2">Email:</label>
                    <input type="email" id="loginEmail" class="w-full px-3 py-2 border rounded" placeholder="your.real.email@example.com" required>
                </div>
                <div class="form-group">
                    <label class="block text-gray-700 mb-2">Password:</label>
                    <input type="password" id="loginPassword" class="w-full px-3 py-2 border rounded" placeholder="Password" required>
                </div>
                <button type="submit" class="btn-custom w-full mb-4">Login</button>
            </form>
        </section>

        <!-- Dashboard Section (Admin Panel) -->
        <section id="dashboard" class="section hidden transition-opacity">
            <h2 class="text-3xl font-bold mb-8 text-center">Dashboard</h2>
            <div class="dashboard-section mb-8">
                <div class="stat-card">
                    <h3 class="text-lg font-bold mb-4"><i class="fas fa-eye mr-2"></i>Daily Statistics</h3>
                    <div class="text-center">
                        <p class="text-2xl font-bold text-green-600" id="dashboardClicks">0 Buy Clicks</p>
                        <p class="text-xl text-purple-600" id="dashboardPopular">Most Popular Product: No Data</p>
                        <p class="text-xl text-blue-600" id="dashboardTotalProducts">Total Products: 0</p>
                    </div>
                </div>
                <div class="stat-card">
                    <h3 class="text-lg font-bold mb-4"><i class="fas fa-users mr-2"></i>Registered Clients</h3>
                    <div id="clientsList" class="space-y-2 max-h-64 overflow-auto"></div>
                </div>
            </div>
            <div class="dashboard-section">
                <div class="stat-card col-span-2">
                    <h3 class="text-lg font-bold mb-4"><i class="fas fa-cog mr-2"></i>Product Management</h3>
                    <button id="addProductBtn" class="btn-custom mb-2 mr-2">Add Product</button>
                    <div id="productManagement" class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4"></div>
                </div>
            </div>
        </section>
    </main>

    <!-- Password Modal for Dashboard -->
    <div id="passwordModal" class="modal">
        <div class="modal-content">
            <h2 class="text-2xl font-bold mb-4">Enter Password</h2>
            <div class="form-group">
                <label for="dashboardPasswordInput">Dashboard Password:</label>
                <input type="password" id="dashboardPasswordInput" class="w-full px-3 py-2 border rounded" placeholder="Enter password" required>
            </div>
            <button id="submitPasswordBtn" class="btn-custom w-full mb-2">Submit</button>
            <button id="cancelPasswordBtn" class="btn-custom w-full" style="background: #ccc; color: black;">Cancel</button>
        </div>
    </div>

    <!-- Add Product Modal -->
    <div id="addProductModal" class="modal">
        <div class="modal-content">
            <h2 class="text-2xl font-bold mb-4">Add New Product from Amazon</h2>
            <form id="addProductForm">
                <div class="form-group">
                    <label>Title (Product Name):</label>
                    <input type="text" id="newProductName" required>
                </div>
                <div class="form-group">
                    <label>Description:</label>
                    <textarea id="newProductDesc" rows="3" required></textarea>
                </div>
                <div class="form-group">
                    <label>Price (Optional, $):</label>
                    <input type="number" id="newProductPrice" min="0" step="0.01">
                </div>
                <div class="form-group">
                    <label>Image (Image URL):</label>
                    <input type="url" id="newProductImage" placeholder="https://..." required>
                </div>
                <div class="form-group">
                    <label>Amazon Affiliate Link:</label>
                    <input type="url" id="newProductAffiliate" placeholder="https://www.amazon.com/...?tag=youraffiliate" required>
                </div>
                <div class="flex gap-4">
                    <button type="submit" class="btn-custom flex-1">Add</button>
                    <button type="button" id="closeAddProduct" class="btn-custom flex-1" style="background: #ccc; color: black;">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 mt-16">
        <div class="container mx-auto px-4 text-center">
            <p>© 2023 RXstore. All rights reserved.</p>
            <div class="flex justify-center space-x-4 mt-4">
                <a href="https://www.instagram.com/" target="_blank" class="text-white hover:text-gray-400"><i class="fab fa-instagram text-2xl"></i></a>
                <a href="https://www.tiktok.com/" target="_blank" class="text-white hover:text-gray-400"><i class="fab fa-tiktok text-2xl"></i></a>
            </div>
        </div>
    </footer>

    <!-- JavaScript for Functionality -->
    <script>
        // Sample data - can be replaced with real Amazon API data
        let products = [
            { id: 1, name: 'High-Dose Vitamin C', price: 15, image: 'https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/3ab5b83b-5dc6-40eb-a626-809be59e0e37.png', desc: 'Natural immune support, effective Vitamin C from Amazon. Boost your health, wellness, and immunity with essential vitamins. Search terms: Vitamin C, immunity, health, supplements, wellness.', affiliate: 'https://www.amazon.com/dp/B0123456?tag=youraffiliate', clicks: 0 },
            { id: 2, name: 'Digital Blood Pressure Monitor', price: 25, image: 'https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/7e34dd45-7d02-4194-abee-fe72ee7248aa.png', desc: 'Accurate device for home blood pressure monitoring, available on Amazon. Track your heart health, vital signs, and medical data easily. Search terms: Blood pressure, monitor, health, heart, medical device, home health.', affiliate: 'https://www.amazon.com/dp/B0987654?tag=youraffiliate', clicks: 0 },
            { id: 3, name: 'Energy Supplements', price: 30, image: 'https://placehold.co/400x300/667eea/white', desc: 'Natural supplements for increased energy and vitality, profitable for Amazon affiliate marketing. Enhance your performance, focus, and daily energy levels. Search terms: Energy, supplements, vitality, performance, focus, natural.', affiliate: 'https://www.amazon.com/dp/B045678?tag=youraffiliate', clicks: 0 },
        ];

        let users = [
            { name: 'Client 1', email: 'user1@example.com' },
            { name: 'Client 2', email: 'user2@example.com' },
            { name: 'Client 3', email: 'user3@example.com' }
        ];

        // Admin password
        const ADMIN_PASSWORD = '0112452';

        // Counters for analytics
        let totalClicks = parseInt(localStorage.getItem('totalClicks')) || 0;

        function updateAnalytics() {
            document.getElementById('clicksCount').textContent = totalClicks;
            const popular = products.reduce((p, c) => c.clicks > (p.clicks || 0) ? c : p, {});
            document.getElementById('popularProduct').textContent = popular.name || 'No Data';
            document.getElementById('totalProductsCount').textContent = products.length;

            document.getElementById('dashboardClicks').textContent = totalClicks + ' Buy Clicks';
            document.getElementById('dashboardPopular').textContent = 'Most Popular Product: ' + (popular.name || 'No Data');
            document.getElementById('dashboardTotalProducts').textContent = 'Total Products: ' + products.length;
        }

        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => section.classList.add('hidden'));
            document.getElementById(sectionId).classList.remove('hidden');
            currentSection = sectionId;
            if (sectionId === 'products') loadProducts();
            if (sectionId === 'dashboard') {
                document.getElementById('passwordModal').style.display = 'flex';
                document.getElementById('dashboardPasswordInput').value = ''; // Clear input
                document.getElementById('dashboardPasswordInput').focus();
            }
        }

        // Intersection Observer for product animations
        const productObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.remove('animate-out');
                    entry.target.classList.add('animate-in');
                } else {
                    entry.target.classList.remove('animate-in');
                    entry.target.classList.add('animate-out');
                }
            });
        }, { threshold: 0.2 }); // Trigger when 20% of the item is visible

        function loadProducts() {
            const grid = document.getElementById('productGrid');
            grid.innerHTML = '';
            products.forEach(product => {
                const card = document.createElement('div');
                card.className = 'product-card bg-white p-6 rounded-lg shadow-lg';
                card.innerHTML = `
                    <img src="${product.image}" alt="${product.desc}" class="w-full h-48 object-cover mb-4 rounded" onerror="this.src='https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/b9d64771-37c6-4368-8122-f76272588b76.png'" />
                    <h3 class="text-xl font-bold mb-2">${product.name}</h3>
                    <p class="text-gray-600 mb-4">${product.desc}</p>
                    <span class="text-2xl font-bold text-blue-600">$${product.price || 'N/A'}</span>
                    <button class="btn-custom mt-4 block w-full buyBtn" data-product="${product.id}" data-link="${product.affiliate}">Buy Now</button>
                `;
                grid.appendChild(card);
                productObserver.observe(card); // Observe each product card
            });
        }

        function loadDashboard() {
            const clientsList = document.getElementById('clientsList');
            clientsList.innerHTML = '';
            users.forEach(user => {
                const div = document.createElement('div');
                div.className = 'p-2 bg-gray-100 rounded';
                div.textContent = `${user.name} - ${user.email}`;
                clientsList.appendChild(div);
            });

            const productManagement = document.getElementById('productManagement');
            productManagement.innerHTML = '';
            products.forEach(product => {
                const div = document.createElement('div');
                div.className = 'p-4 bg-gray-50 rounded shadow';
                div.innerHTML = `
                    <h4 class="font-bold">${product.name}</h4>
                    <p class="text-sm text-gray-600">${product.desc}</p>
                    <p class="text-sm">Buy Clicks: ${product.clicks}</p>
                    <a href="${product.affiliate}" target="_blank" class="text-blue-600 underline text-sm">Affiliate Link</a>
                `;
                productManagement.appendChild(div);
            });

            updateAnalytics();
        }

        // Events
        document.getElementById('homeBtn').addEventListener('click', () => showSection('home'));
        document.getElementById('productsBtn').addEventListener('click', () => showSection('products'));
        document.getElementById('dashboardBtn').addEventListener('click', () => showSection('dashboard'));
        document.getElementById('loginBtn').addEventListener('click', () => showSection('login'));
        document.getElementById('startBtn').addEventListener('click', () => showSection('products'));

        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Login successful!');
            // In a real app, you'd handle user authentication here
            showSection('home'); // Redirect to home after login for now
        });

        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('buyBtn')) {
                const productId = parseInt(e.target.dataset.product);
                const product = products.find(p => p.id === productId);
                if (product) {
                    product.clicks += 1;
                    totalClicks += 1;
                    localStorage.setItem('totalClicks', totalClicks);
                    localStorage.setItem('products', JSON.stringify(products));
                    window.open(product.affiliate, '_blank');
                    updateAnalytics();
                    alert('Redirecting to Amazon! Your commission will be secured if purchases are made.');
                }
            }
        });

        // Password Modal Logic
        const passwordModal = document.getElementById('passwordModal');
        document.getElementById('submitPasswordBtn').addEventListener('click', () => {
            const passwordInput = document.getElementById('dashboardPasswordInput').value;
            if (passwordInput === ADMIN_PASSWORD) {
                passwordModal.style.display = 'none';
                document.querySelectorAll('.section').forEach(section => section.classList.add('hidden')); // Hide all sections
                document.getElementById('dashboard').classList.remove('hidden'); // Show dashboard
                loadDashboard();
            } else {
                alert('Incorrect password. Access denied.');
                passwordModal.style.display = 'none';
                showSection('home'); // Redirect to home if password is wrong
            }
        });
        document.getElementById('cancelPasswordBtn').addEventListener('click', () => {
            passwordModal.style.display = 'none';
            showSection('home'); // Go back to home if cancelled
        });

        // Add Product Modal
        const addProductModal = document.getElementById('addProductModal');
        document.getElementById('addProductBtn').addEventListener('click', () => {
            addProductModal.style.display = 'flex';
        });
        document.getElementById('closeAddProduct').addEventListener('click', () => {
            addProductModal.style.display = 'none';
        });

        document.getElementById('addProductForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const name = document.getElementById('newProductName').value.trim();
            const desc = document.getElementById('newProductDesc').value.trim();
            const price = parseFloat(document.getElementById('newProductPrice').value) || null;
            const image = document.getElementById('newProductImage').value.trim();
            const affiliate = document.getElementById('newProductAffiliate').value.trim();

            if (!name || !desc || !image || !affiliate) {
                alert('Please fill in all required fields.');
                return;
            }

            const id = products.length ? Math.max(...products.map(p => p.id)) + 1 : 1;
            products.push({ id, name, desc, price, image, affiliate, clicks: 0 });
            localStorage.setItem('products', JSON.stringify(products));
            addProductModal.style.display = 'none';
            loadProducts(); // Reload products to show new one
            loadDashboard(); // Update dashboard with new product count
            alert('Product successfully added from Amazon!');
        });

        // Load saved data
        const savedProducts = localStorage.getItem('products');
        if (savedProducts) products = JSON.parse(savedProducts);

        // Show home
        showSection('home');
        updateAnalytics();
    </script>
</body>
</html>
